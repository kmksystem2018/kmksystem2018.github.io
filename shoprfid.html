<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>NFC Szériaszám Beolvasása</title>
    <script>
        async function readNFC() {
            try {
                if ("NFC" in window) {
                    // NFC olvasó elindítása
                    const reader = new NFC();
                    const nfcTag = await reader.scan();
                    const serialNumber = nfcTag.serialNumber;

                    // Az NFC szériaszám megjelenítése
                    document.getElementById('nfcSerial').textContent = `Beolvasott szériaszám: ${serialNumber}`;
                    
                    // További feldolgozás itt, pl. POST kéréssel küldhetjük a szériaszámot
                    sendData(serialNumber);
                } else {
                    alert("A Web NFC API nem támogatott ebben a böngészőben.");
                }
            } catch (error) {
                alert(`Hiba történt: ${error}`);
            }
        }

        // Az NFC adatokat elküldi egy PHP oldalnak
        function sendData(serialNumber) {
            const formData = new FormData();
            formData.append("nfcSerial", serialNumber);

            fetch('feldolgozo.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('response').innerHTML = data;
            })
            .catch(error => console.error('Hiba:', error));
        }
    </script>
</head>
<body>
    <h1>NFC Szériaszám Beolvasása</h1>
    <button onclick="readNFC()">NFC eszköz beolvasása</button>
    <p id="nfcSerial">Itt jelenik meg a beolvasott NFC szériaszám.</p>
    <div id="response"></div>
</body>
</html>
